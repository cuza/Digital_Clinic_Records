define(["./core","./var/indexOf","./traversing/var/dir","./traversing/var/siblings","./traversing/var/rneedsContext","./core/init","./traversing/findFilter","./selector"],function(f,e,b,g,h){var d=/^(?:parents|prev(?:Until|All))/,a={children:true,contents:true,next:true,prev:true};f.fn.extend({has:function(k){var j=f(k,this),i=j.length;return this.filter(function(){var l=0;for(;l<i;l++){if(f.contains(this,j[l])){return true}}})},closest:function(o,n){var p,m=0,k=this.length,j=[],q=h.test(o)||typeof o!=="string"?f(o,n||this.context):0;for(;m<k;m++){for(p=this[m];p&&p!==n;p=p.parentNode){if(p.nodeType<11&&(q?q.index(p)>-1:p.nodeType===1&&f.find.matchesSelector(p,o))){j.push(p);break}}}return this.pushStack(j.length>1?f.uniqueSort(j):j)},index:function(i){if(!i){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof i==="string"){return e.call(f(i),this[0])}return e.call(this,i.jquery?i[0]:i)},add:function(i,j){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(i,j))))},addBack:function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}});function c(j,i){while((j=j[i])&&j.nodeType!==1){}return j}f.each({parent:function(j){var i=j.parentNode;return i&&i.nodeType!==11?i:null},parents:function(i){return b(i,"parentNode")},parentsUntil:function(k,j,l){return b(k,"parentNode",l)},next:function(i){return c(i,"nextSibling")},prev:function(i){return c(i,"previousSibling")},nextAll:function(i){return b(i,"nextSibling")},prevAll:function(i){return b(i,"previousSibling")},nextUntil:function(k,j,l){return b(k,"nextSibling",l)},prevUntil:function(k,j,l){return b(k,"previousSibling",l)},siblings:function(i){return g((i.parentNode||{}).firstChild,i)},children:function(i){return g(i.firstChild)},contents:function(i){return i.contentDocument||f.merge([],i.childNodes)}},function(i,j){f.fn[i]=function(m,l){var k=f.map(this,j,m);if(i.slice(-5)!=="Until"){l=m}if(l&&typeof l==="string"){k=f.filter(l,k)}if(this.length>1){if(!a[i]){f.uniqueSort(k)}if(d.test(i)){k.reverse()}}return this.pushStack(k)}});return f});