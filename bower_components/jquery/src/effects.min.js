define(["./core","./var/document","./var/rcssNum","./css/var/cssExpand","./var/rnotwhite","./css/var/isHidden","./css/adjustCSS","./css/defaultDisplay","./data/var/dataPriv","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(h,m,s,b,n,d,r,e,i){var c,g,a=/^(?:toggle|show|hide)$/,j=/queueHooks$/;function k(){window.setTimeout(function(){c=undefined});return(c=h.now())}function o(v,x){var w,u=0,t={height:v};x=x?1:0;for(;u<4;u+=2-x){w=b[u];t["margin"+w]=t["padding"+w]=v}if(x){t.opacity=t.width=v}return t}function l(x,z,w){var u,y=(q.tweeners[z]||[]).concat(q.tweeners["*"]),t=0,v=y.length;for(;t<v;t++){if((u=y[t].call(w,z,x))){return u}}}function f(w,B,t){var v,E,y,H,I,F,A,D,x=this,C={},u=w.style,z=w.nodeType&&d(w),G=i.get(w,"fxshow");if(!t.queue){I=h._queueHooks(w,"fx");if(I.unqueued==null){I.unqueued=0;F=I.empty.fire;I.empty.fire=function(){if(!I.unqueued){F()}}}I.unqueued++;x.always(function(){x.always(function(){I.unqueued--;if(!h.queue(w,"fx").length){I.empty.fire()}})})}if(w.nodeType===1&&("height" in B||"width" in B)){t.overflow=[u.overflow,u.overflowX,u.overflowY];A=h.css(w,"display");D=A==="none"?i.get(w,"olddisplay")||e(w.nodeName):A;if(D==="inline"&&h.css(w,"float")==="none"){u.display="inline-block"}}if(t.overflow){u.overflow="hidden";x.always(function(){u.overflow=t.overflow[0];u.overflowX=t.overflow[1];u.overflowY=t.overflow[2]})}for(v in B){E=B[v];if(a.exec(E)){delete B[v];y=y||E==="toggle";if(E===(z?"hide":"show")){if(E==="show"&&G&&G[v]!==undefined){z=true}else{continue}}C[v]=G&&G[v]||h.style(w,v)}else{A=undefined}}if(!h.isEmptyObject(C)){if(G){if("hidden" in G){z=G.hidden}}else{G=i.access(w,"fxshow",{})}if(y){G.hidden=!z}if(z){h(w).show()}else{x.done(function(){h(w).hide()})}x.done(function(){var J;i.remove(w,"fxshow");for(J in C){h.style(w,J,C[J])}});for(v in C){H=l(z?G[v]:0,v,x);if(!(v in G)){G[v]=H.start;if(z){H.end=H.start;H.start=v==="width"||v==="height"?1:0}}}}else{if((A==="none"?e(w.nodeName):A)==="inline"){u.display=A}}}function p(w,y){var v,u,z,x,t;for(v in w){u=h.camelCase(v);z=y[u];x=w[v];if(h.isArray(x)){z=x[1];x=w[v]=x[0]}if(v!==u){w[u]=x;delete w[v]}t=h.cssHooks[u];if(t&&"expand" in t){x=t.expand(x);delete w[u];for(v in x){if(!(v in w)){w[v]=x[v];y[v]=z}}}else{y[u]=z}}}function q(v,z,C){var D,t,y=0,u=q.prefilters.length,B=h.Deferred().always(function(){delete x.elem}),x=function(){if(t){return false}var J=c||k(),G=Math.max(0,w.startTime+w.duration-J),E=G/w.duration||0,I=1-E,F=0,H=w.tweens.length;for(;F<H;F++){w.tweens[F].run(I)}B.notifyWith(v,[w,I,G]);if(I<1&&H){return G}else{B.resolveWith(v,[w]);return false}},w=B.promise({elem:v,props:h.extend({},z),opts:h.extend(true,{specialEasing:{},easing:h.easing._default},C),originalProperties:z,originalOptions:C,startTime:c||k(),duration:C.duration,tweens:[],createTween:function(G,E){var F=h.Tween(v,w.opts,G,E,w.opts.specialEasing[G]||w.opts.easing);w.tweens.push(F);return F},stop:function(F){var E=0,G=F?w.tweens.length:0;if(t){return this}t=true;for(;E<G;E++){w.tweens[E].run(1)}if(F){B.notifyWith(v,[w,1,0]);B.resolveWith(v,[w,F])}else{B.rejectWith(v,[w,F])}return this}}),A=w.props;p(A,w.opts.specialEasing);for(;y<u;y++){D=q.prefilters[y].call(w,v,A,w.opts);if(D){if(h.isFunction(D.stop)){h._queueHooks(w.elem,w.opts.queue).stop=h.proxy(D.stop,D)}return D}}h.map(A,l,w);if(h.isFunction(w.opts.start)){w.opts.start.call(v,w)}h.fx.timer(h.extend(x,{elem:v,anim:w,queue:w.opts.queue}));return w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always)}h.Animation=h.extend(q,{tweeners:{"*":[function(v,u){var t=this.createTween(v,u);r(t.elem,v,s.exec(u),t);return t}]},tweener:function(u,x){if(h.isFunction(u)){x=u;u=["*"]}else{u=u.match(n)}var w,t=0,v=u.length;for(;t<v;t++){w=u[t];q.tweeners[w]=q.tweeners[w]||[];q.tweeners[w].unshift(x)}},prefilters:[f],prefilter:function(u,t){if(t){q.prefilters.unshift(u)}else{q.prefilters.push(u)}}});h.speed=function(v,w,u){var t=v&&typeof v==="object"?h.extend({},v):{complete:u||!u&&w||h.isFunction(v)&&v,duration:v,easing:u&&w||w&&!h.isFunction(w)&&w};t.duration=h.fx.off?0:typeof t.duration==="number"?t.duration:t.duration in h.fx.speeds?h.fx.speeds[t.duration]:h.fx.speeds._default;if(t.queue==null||t.queue===true){t.queue="fx"}t.old=t.complete;t.complete=function(){if(h.isFunction(t.old)){t.old.call(this)}if(t.queue){h.dequeue(this,t.queue)}};return t};h.fn.extend({fadeTo:function(t,w,v,u){return this.filter(d).css("opacity",0).show().end().animate({opacity:w},t,v,u)},animate:function(z,w,y,x){var v=h.isEmptyObject(z),t=h.speed(w,y,x),u=function(){var A=q(this,h.extend({},z),t);if(v||i.get(this,"finish")){A.stop(true)}};u.finish=u;return v||t.queue===false?this.each(u):this.queue(t.queue,u)},stop:function(v,u,t){var w=function(x){var y=x.stop;delete x.stop;y(t)};if(typeof v!=="string"){t=u;u=v;v=undefined}if(u&&v!==false){this.queue(v||"fx",[])}return this.each(function(){var A=true,x=v!=null&&v+"queueHooks",z=h.timers,y=i.get(this);if(x){if(y[x]&&y[x].stop){w(y[x])}}else{for(x in y){if(y[x]&&y[x].stop&&j.test(x)){w(y[x])}}}for(x=z.length;x--;){if(z[x].elem===this&&(v==null||z[x].queue===v)){z[x].anim.stop(t);A=false;z.splice(x,1)}}if(A||!t){h.dequeue(this,v)}})},finish:function(t){if(t!==false){t=t||"fx"}return this.each(function(){var w,z=i.get(this),v=z[t+"queue"],u=z[t+"queueHooks"],y=h.timers,x=v?v.length:0;z.finish=true;h.queue(this,t,[]);if(u&&u.stop){u.stop.call(this,true)}for(w=y.length;w--;){if(y[w].elem===this&&y[w].queue===t){y[w].anim.stop(true);y.splice(w,1)}}for(w=0;w<x;w++){if(v[w]&&v[w].finish){v[w].finish.call(this)}}delete z.finish})}});h.each(["toggle","show","hide"],function(u,t){var v=h.fn[t];h.fn[t]=function(w,y,x){return w==null||typeof w==="boolean"?v.apply(this,arguments):this.animate(o(t,true),w,y,x)}});h.each({slideDown:o("show"),slideUp:o("hide"),slideToggle:o("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,u){h.fn[t]=function(v,x,w){return this.animate(u,v,x,w)}});h.timers=[];h.fx.tick=function(){var v,t=0,u=h.timers;c=h.now();for(;t<u.length;t++){v=u[t];if(!v()&&u[t]===v){u.splice(t--,1)}}if(!u.length){h.fx.stop()}c=undefined};h.fx.timer=function(t){h.timers.push(t);if(t()){h.fx.start()}else{h.timers.pop()}};h.fx.interval=13;h.fx.start=function(){if(!g){g=window.setInterval(h.fx.tick,h.fx.interval)}};h.fx.stop=function(){window.clearInterval(g);g=null};h.fx.speeds={slow:600,fast:200,_default:400};return h});